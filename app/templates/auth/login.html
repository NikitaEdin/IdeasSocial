{% extends 'base_no_menu.html' %}

{% block page_content %}

<div class="container d-flex justify-content-center align-items-center" style="height: 80vh;">
    <div class="border-2 rounded-3 p-3 bg-white shadow" style="max-width: 450px;"> 
        <div class="right-box">
            <div class="row align-items-center justify-content-center m-2">
                <!-- Header -->
                <div class="header-text align-content-between mb-3">
                    <h1 class="text-center mb-5">Login</h1>
                </div>

                  <!-- Flash messages -->
                    {% with messages = get_flashed_messages(with_categories=true) %}
                        <!--  any messages? -->
                        {% if messages %}
                            <!-- loop messages -->
                            {% for category, message in messages %}
                                <div class="alert alert-{{category}} alert-dismissible fade show" role="alert">
                                    {{ message|safe }}
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            {% endfor %}

                        {% endif %}
                    {% endwith %}


                <form method="POST">
                    <!-- CRF Token Protection -->
                    {{ form.hidden_tag()}}

                    <!-- Email -->
                    <div class="mb-3">
                        <label for="email" class="form-label py-0">Email Address:</label>
                        {{ form.email(class="form-control bg-light fs-6", placeholder="john@smith.com") }}
                        {% if form.email.errors %}
                            <div class="text-danger">
                                {{ form.email.errors[0] }}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Password -->
                    <div class="mb-3">
                        <label for="password" class="form-label py-0">Password:</label>
                        {{ form.password(class="form-control bg-light fs-6", placeholder="*********") }}
                        {% if form.password.errors %}
                            <div class="text-danger">
                                {{ form.password.errors[0] }}
                            </div>
                        {% endif %}

                    </div>



                    <div class="input-group mb-3 mt-3">
                        {{ form.submit(class="btn btn-lg btn-primary w-100 fs-6") }}
                    </div>

                    <div class="row">
                        <small>Don't have an account? <a href="{{ url_for('register') }}">Register now!</a></small>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


{% endblock %}